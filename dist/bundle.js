!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.tinyMoment=n()}(this,function(){"use strict";function t(t){return function(){var n=t();return n<10&&n>=0?"0".concat(n):n}}function n(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd",i=r;if("string"==typeof n&&!isNaN(Date.parse(n))&&Date.parse(n)||"number"==typeof n&&n>0?e=new Date(n):n instanceof Date&&(e=n),!(e instanceof Date)||"Invalid Date"===e.toString())throw new Error("Invalid date");if("string"!=typeof r)throw new Error("Invalid format");return[[/yyyy/i,e.getFullYear.bind(e)],[/yy/i,function(){return e.getFullYear().toString().slice(-2)}],[/MM/,t(function(){return e.getMonth()+1})],[/M/,function(){return e.getMonth()+1}],[/dd/i,t(e.getDate.bind(e))],[/d/i,e.getDate.bind(e)],[/hh/i,t(e.getHours.bind(e))],[/h/i,e.getHours.bind(e)],[/mm/,t(e.getMinutes.bind(e))],[/m/,e.getMinutes.bind(e)],[/ss/i,t(e.getSeconds.bind(e))],[/s/i,e.getSeconds.bind(e)]].forEach(function(t){i=i.replace(t[0],t[1])}),i}return{format:n,parse:function(t,e,r){if(t.length!==e.length)throw new Error("Not match");var i=".".repeat(e.length),o=[];[["yyyy","(\\d{4})",!1],["MM","(\\d{2})",!0],["dd","(\\d{2})",!1],["hh","(\\d{2})",!1],["mm","(\\d{2})",!0],["ss","(\\d{2})",!1]].forEach(function(n){o.push(parseInt(function(n,r){var o,a,d,u,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=e.indexOf(n),s=(o=i,a=c,d=n.length,u=r,o.slice(0,a)+u+o.slice(a+d)),y=new RegExp(s,f?"i":"");return y.test(t)?y.exec(t)[1]:0}.apply(void 0,function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n)),10))});var a=new(Function.prototype.bind.apply(Date,[null].concat(o)));if(!a||"Invalid Date"===a.toString()||0===o[0])throw new Error("Invalid Date");return r?n(a,r):a}}});
